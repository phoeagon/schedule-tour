jQuery.fn.toggleSwitch=function(e){function r(e){function i(e,t){var n=$(e),r=n.parent();n.find("label").eq(t).addClass("ui-state-active").siblings("label").removeClass("ui-state-active");r.find("option").prop("selected",false).eq(t).prop("selected",true);r.find("select").trigger("change");n.find(".ui-slider").slider("value",t*100)}var t=$("<div />").addClass("ui-toggle-switch");$(e).find("option").each(function(e,n){t.append("<label>"+$(n).text()+"</label>")}).end().addClass("ui-toggle-switch");var r=$("<div />").slider({min:0,max:100,animate:"fast",change:n.change,stop:function(e,t){var r=Math.round(t.value/100);var s=this;window.setTimeout(function(){i(s.parentNode,r)},11);if(typeof n.stop==="function"){n.stop.call(this,e,r)}},range:n.highlight&&!$(e).data("hideHighlight")?"max":null}).width(n.width);r.insertAfter(t.children().eq(0));t.on("click","label",function(){if($(this).hasClass("ui-state-active")){return}var e=$(this).is(":first-child")?0:1;i(this.parentNode,e)});t.find("label").eq(e.selectedIndex).click();$(e).parent().append(t)}var t={highlight:true,width:25,change:null,stop:null};var n=$.extend({},t,e);return $(this).each(function(e,t){r(t)})}
